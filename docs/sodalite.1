.\" Automatically generated by Pandoc 2.5
.\"
.TH "SODALITE" "1" "" "Version 1.0" "User Commands"
.hy
.SH NAME
.PP
sodalite \- terminal file navigator and launcher
.SH SYNOPSIS
.PP
\f[B]sodalite\f[R] [\f[B]\-h\f[R]|\f[B]\-v\f[R]|[\f[B]\-u\f[R]
\f[I]target\f[R]] \f[I]path\f[R]]
.SH DESCRIPTION
.PP
Sodalite is a keyboard\-driven terminal file navigator and launcher.
It\[cq]s designed to be the missing glue for those who use the shell as
their daily driver and seek more speed and ease.
.PP
In a nutshell, sodalite assigns a key to each entry.
Pressing a key navigates to the corresponding entry.
The assignments are permanent but can be changed to your liking.
.PP
Next to fast navigation, sodalite brings file preview with syntax
highlighting and a pluggable hook system.
.PP
Launch sodalite: sodalite [\f[I]path\f[R]]
.PD 0
.P
.PD
If \f[I]path\f[R] is supplied, sodalite will start in given path.
.SS Shell integration
.PP
It\[cq]s recommended to integrate sodalite into the shell.
The integration does the following:
.IP \[bu] 2
set up a keybinding to launch sodalite which enables convenient
navigation
.IP \[bu] 2
collect data about your navigation profile (e.g., by intercepting
\f[C]cd\f[R] calls) in order to customize your view on the data.
You can disable this by setting the variable SODALITE_CD_INTERCEPTION to
\f[I]false\f[R] before sourcing the integration script.
.PP
\f[B]bash / zsh\f[R]
.PP
Add following line to your \f[C].bashrc\f[R] / \f[C].zshrc\f[R]:
.IP
.nf
\f[C]
source /usr/share/sodalite/shell\-integration.sh
\f[R]
.fi
.PP
The script will set up a keybinding which launches \f[C]sodalite\f[R].
.IP \[bu] 2
Emacs keymap: \f[C]ctrl f\f[R]
.IP \[bu] 2
Vim keymap: \f[C]f\f[R] in command (aka normal) mode
.PP
\f[B]fish\f[R]
.PP
Add following to your fish.config:
.IP
.nf
\f[C]
source /usr/share/sodalite/shell\-integration.fish

function fish_user_key_bindings
    bind \[rs]cf sodalite\-widget
end
\f[R]
.fi
.PP
If the function \f[C]fish_user_key_bindings\f[R] already exists, only
add its content to the function.
.SS Modi
.PP
Like in vim, there are different modi.
In each mode, a different set of actions is available.
.IP \[bu] 2
\f[C]NAVIGATE\f[R]: navigate the file system
.IP \[bu] 2
\f[C]ASSIGN\f[R]: assign keys to files
.IP \[bu] 2
\f[C]OPERATE\f[R]: modify the file system
.SS Global actions
.PP
Following general actions can be triggered everywhere in
\f[C]sodalite\f[R]:
.TP
.B \f[B]exit (\f[CB]ENTER\f[B])\f[R]
Exit \f[C]sodalite\f[R].
Prints the current entry to \f[C]stdout\f[R].
.RS
.PP
In case \f[C]sodalite\f[R] was invoked with the provided shell
integration key\-bindings, will \f[C]cd\f[R] into current directory.
If the current entry is not a directory but a file, will \f[C]cd\f[R]
into the parent directory.
.RE
.TP
.B \f[B]abort (\f[CB]ctrl c\f[B])\f[R]
Exit \f[C]sodalite\f[R] without printing current directory to
\f[C]stdout\f[R].
.TP
.B \f[B]show help (\f[CB]?\f[B])\f[R]
Display currently available actions with their associated keybindings.
Press any key to close the help.
.TP
.B \f[B]navigate_mode (\f[CB]esc\f[B])\f[R]
Enter navigate mode.
.TP
.B \f[B]assign_mode (\f[CB]=\f[B])\f[R]
Enter assign mode.
.TP
.B \f[B]operate_mode (\f[CB]\f[B] [space])\f[R]
Enter operate mode.
.TP
.B \f[B]filter (\f[CB]/\f[B])\f[R]
Focuses the filter bar on the bottom.
Use regular expressions to filter displayed entries.
The filtering is case\-insensitive.
Press \f[C]enter\f[R] to submit or \f[C]esc\f[R] to dismiss the filter.
.TP
.B \f[B]toggle_hidden_files (\f[CB]meta h\f[B])\f[R]
Toggles visiblity of hidden files.
.TP
.B \f[B]scroll_page_down (\f[CB]ctrl f\f[B])\f[R]
Scroll down one page.
.TP
.B \f[B]scroll_page_up (\f[CB]ctrl b\f[B])\f[R]
Scroll up one page.
.TP
.B \f[B]scroll_half_page_down (\f[CB]ctrl d\f[B])\f[R]
Scroll down half a page.
.TP
.B \f[B]scroll_half_page_up (\f[CB]ctrl u\f[B])\f[R]
Scroll up half a page.
.SS \f[C]NAVIGATE\f[R] mode
.PP
\f[C]sodalite\f[R] automatically assigns keys to entries in order to
enable quick navigation.
For navigating to a specific entry, simply press its assigned key.
Valid values for keys are all letters of the alphabet (lower and upper
case), so there are 52 different keys.
For every directory, each key is unique.
If there are more than 52 entries in a directory, some entries will end
up having no key assigned to them.
However, you can change this within the \f[C]ASSIGN\f[R] mode.
.TP
.B \f[B]go_to (\f[CB][a\-zA\-Z0\-9]\f[B])\f[R]
Navigate to the entry matching pressed key.
Note: This function is not reassinable to another keybinding.
.TP
.B \f[B]go_to_home (\f[CB];\f[B])\f[R]
Navigate to the \f[C]$HOME\f[R] directory.
.TP
.B \f[B]go_to_root (\f[CB],\f[B])\f[R]
Navigate to the root directory.
.TP
.B \f[B]go_to_parent (\f[CB].\f[B])\f[R]
Navigate to the parent directory.
Does nothing if parent directory does not exist.
.TP
.B \f[B]go_to_previous (\f[CB]ctrl h\f[B])\f[R]
Navigate back in history one step.
Does nothing if history does not contain a previous entry.
Note: `ctrl h' equals backslash in terminal emulators.
.TP
.B \f[B]go_to_next (\f[CB]ctrl l\f[B])\f[R]
Navigate forward in history.
Does nothing if history does not contain a next entry.
.TP
.B \f[B]yank_current_path (\f[CB]ctrl y\f[B])\f[R]
Copy current entry\[cq]s path to the system clipboard.
.TP
.B \f[B]yank_file_content (\f[CB]meta y\f[B])\f[R]
If current entry is a plain text file, copy file content to the system
clipboard.
.SS \f[C]ASSIGN\f[R] mode
.PP
The \f[C]ASSIGN\f[R] mode is needed to assign a specific key to an
entry.
While in assign mode, the frame is displayed in green.
Assigning entries is accomplished within these steps:
.IP "1." 3
Enter assign mode
.IP "2." 3
Press a key associated with an entry or select an entry manually
.IP "3." 3
Press the new key
.PP
If the newly assigned key is already assigned to another entry in the
current directory, keys get swapped.
.TP
.B \f[B]select_next (\f[CB]ctrl n\f[B])\f[R]
Select next entry.
.TP
.B \f[B]select_previous (\f[CB]ctrl p\f[B])\f[R]
Select previous entry.
.SS OPERATE mode
.PP
The \f[C]OPERATE\f[R] mode allows for convenient file manipulation.
While in operate mode, the frame is displayed in red.
.TP
.B \f[B]yank (\f[CB]y\f[B])\f[R]
Yanks (i.e., copies) the entry associated with the next issued keypress
to sodalite\[cq]s buffer.
.TP
.B \f[B]paste (\f[CB]p\f[B])\f[R]
Pastes the content of sodalite\[cq]s buffer into the current directory.
.TP
.B \f[B]delete (\f[CB]d\f[B])\f[R]
Moves the entry associated with the next issued keypress to
sodalite\[cq]s buffer.
.TP
.B \f[B]rename (\f[CB]r\f[B])\f[R]
Renames specified entry.
.SS Options
.TP
.B \f[B]\-h, \-\-help\f[R]
Prints brief usage information.
.TP
.B \f[B]\-v, \-\-version\f[R]
Prints the current version number.
.TP
.B \f[B]\-u, \-\-update\-access \f[BI]target\f[B]\f[R]
Simulates navigation to \f[I]target\f[R] (a relative or absolute path to
a file or directory) without launching the UI.
However, the database is updated regularly.
Afterwards, quits.
For example:
.RS
.IP
.nf
\f[C]
sodalite \-u .local/share/sodalite $HOME
\f[R]
.fi
.PP
will store an access for each $HOME/.local, $HOME/.local/share and
$HOME/.local/share/sodalite.
.PP
The purpose of this mode is to affect the entry ranking in a
programmatical way.
E.g., it is used in the shell integration where calls to \f[I]cd\f[R]
are intercepted in order to gather information about the user\[cq]s
navigational preferences.
.RE
.SH Configuration
.PP
Upon startup, \f[C]sodalite\f[R] looks in following places for its
configuration:
.IP "1." 3
\f[C]$XDG_CONFIG_HOME/sodalite/sodalite.yml\f[R] (user specific
configuration).
If \f[C]$XDG_CONFIG_HOME\f[R] is not set, falls back to
\f[C]$HOME/.config/sodalite/sodalite.yml\f[R]
.IP "2." 3
\f[C]/etc/sodalite.yml\f[R] (system\-wide configuration)
.PP
The configuration is written in
YAML (https://learnxinyminutes.com/docs/yaml/).
.SS Example configuration
.IP
.nf
\f[C]
keymap:
  filter: \[aq]/\[aq]
hooks:
  general:
  dir:
  plain_text:
    \[dq]e\[dq]:
      action: \[aq]./\[dq]$entry\[dq]\[aq]
      label: \[dq]execute\[dq]
    \[dq]o\[dq]:
      action: \[aq]vim \[dq]$entry\[dq]\[aq]
      label: \[dq]open with vim\[dq]
  custom:
    image:
      extensions: [png, jpg, bmp]
      hooks:
        \[dq]o\[dq]:
          action: \[aq]feh \[dq]$entry\[dq]\[aq]
          label: \[dq]open with feh\[dq]
\f[R]
.fi
.PP
\f[B]Customizing the default keymap\f[R]
.IP
.nf
\f[C]
keymap:
  <built\-in>: <keybinding>
\f[R]
.fi
.PP
If \f[I]built\-in\f[R] matches the name of a built\-in action, given
\f[I]keybinding\f[R] is bound to this action (instead of its default
binding).
.TP
.B \f[B]built\-in\f[R]
(String, required) The name of a built\-in function (e.g.,
\f[C]go_to_home\f[R]).
.TP
.B \f[B]keybinding\f[R]:
(String, required) The keybinding which is used to trigger the action.
Use \f[C]ctrl a\f[R] and \f[C]meta a\f[R] to define the keys
\f[C]Control a\f[R] and \f[C]Meta a\f[R].
Other special keys: \f[C]esc\f[R], \f[C]enter\f[R], \f[C]f1\f[R]
.SS Action hooks
.PP
It is possible to setup keybindings to trigger custom actions.
Note that keybindings defined in the configuration file will take
precedence over the default keymap.
.PP
\f[B]Extended notation:\f[R]
.IP
.nf
\f[C]
<keybinding>:
  action: <action>
  label: <label>
\f[R]
.fi
.PP
\f[B]Short notation:\f[R]
.IP
.nf
\f[C]
<keybinding>: <action>
\f[R]
.fi
.TP
.B \f[B]action\f[R]
(String, required) The action which is triggered by given keybinding.
\f[I]action\f[R] is interpreted as a shell command and executed within a
subshell.
Use the variable \f[C]$entry\f[R] to reference the current entry.
If given string ends with \f[C]#q\f[R], \f[C]sodalite\f[R] will exit
after command execution.
.TP
.B \f[B]label\f[R]
(String, optional) Is used to represent the hook in the UI.
Should be short and concise.
If omitted, the hook will not be displayed in the UI.
.TP
.B \f[B]keybinding\f[R]
(String, required) The keybinding which is used to trigger the action.
Use \f[C]ctrl a\f[R] and \f[C]meta a\f[R] to define the keys
\f[C]Control a\f[R] and \f[C]Meta a\f[R].
Other special keys: \f[C]esc\f[R], \f[C]enter\f[R], \f[C]f1\f[R]
.PP
The \f[B]hooks\f[R] declaration works like this:
.IP
.nf
\f[C]
hooks:
  dir:
    <hook>
    ...
  file:
    <hook>
    ...
  plain_text:
    <hook>
    ...
  executable:
    <hook>
    ...
  custom:
    <name>:
      extensions: [<extension>, ...]
      hooks:
        <hook>
        ...
      ...
            
\f[R]
.fi
.TP
.B \f[B]dir\f[R]
(optional) Declared hooks within this map are available whenever the
current entry is a directory.
.TP
.B \f[B]file\f[R]
(optional) Declared hooks within this map are available whenever the
current entry is a file.
.TP
.B \f[B]plain_text\f[R]
(optional) Declared hooks within this map are available whenever the
current entry is a plain text file.
.TP
.B \f[B]executable\f[R]
(optional) Declared hooks within this map are available whenever the
current entry is executable.
.TP
.B \f[B]custom\f[R]
(optional) Declare one or more custom hooks and attach them to one or
multiple extensions, and repeat this if you want.
This makes the hooks available whenever the current entry has one of its
attached extension.
.SH FILES
.TP
.B \f[I]$XDG_CONFIG_HOME/sodalite/sodalite.conf\f[R]
Per\-user default configuration file.
If \f[C]$XDG_CONFIG_HOME\f[R] is not set, uses \f[C]$HOME/.config\f[R]
instead.
If file does not exist, fall back to global config file.
.TP
.B \f[I]/etc/sodalite.conf\f[R]
Global default configuration file.
If file does not exists, fall back to example config file.
.TP
.B \f[I]/usr/share/sodalite/sodalite.conf\f[R]
Example config file.
.TP
.B \f[I]$XDG_DATA_HOME/sodalite/db.sqlite\f[R]
Database of sodalite.
If \f[C]$XDG_DATA_HOME\f[R] is not set, uses
\f[C]$HOME/.local/share\f[R].
.SH BUGS
.PP
Please report at https://github.com/hnicke/sodalite/issues.
.SH AUTHOR
.PP
Heiko Nickerl <dev(at)heiko\-nickerl.com>
.SH SEE ALSO
.PP
\f[B]sodalite\-open\f[R]
